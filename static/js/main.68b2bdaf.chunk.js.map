{"version":3,"sources":["Node.jsx","Line.jsx","Entrance.jsx","Data.jsx","BootstrapNav.jsx","BootstrapDrop.jsx","Icons.jsx","Description.jsx","Simulation.jsx","Plots.jsx","utils.mjs","Handoff.jsx","App.js","serviceWorker.js","index.js"],"names":["Node","id","this","props","bs","row","col","visitingclass","visiting","path","value","Math","sign","power","round","abs","className","Component","Line","state","basestaion","movingnode","document","getElementById","linestyle","connect","setState","handoff","handoffstyle","node","nodeOff","getOffset","x","left","width","padding","margin","height","position","top","drawhandoff","display","style","div1","div2","color","thickness","off1","off2","x1","y1","x2","y2","length","sqrt","backgroundColor","lineHeight","transform","atan2","PI","opacity","el","rect","getBoundingClientRect","window","pageXOffset","pageYOffset","offsetWidth","offsetHeight","Entrance","dir","enter","entrancenode","result","offset","y","bg","arrowimg","getstyle","entrancestyle","entering","Plot","createPlotlyComponent","Plotly","carslist","handoffslist","powerlist","carcntlist","handcntlist","powercntlist","carcnt","handcnt","powercnt","init","Data","type","data","typename","extra","xlist","list","push","toFixed","useResizeHandler","marker","layout","autosize","title","showlegend","t","r","l","b","config","displayModeBar","BootstrapNav","Navbar","expand","variant","fixed","Brand","href","alt","src","Toggle","aria-controls","Collapse","Nav","Link","BootstrapDrop","Dropdown","size","Menu","Item","onClick","handledrop","Icons","bstation","carmoving","entrances","oldcars","policy","plotdata","cars","cartoremove","carsingrid","totalpower","i","car","changedirection","carmovealongdir","checkBS","averagepower","console","log","carenter","splice","indexOf","removecars","min","max","orig","randnum","ceil","floor","random","dirs","dirtodelete","dirTwochoices","pOld","powerReceived","pNew","newBS","handoffs","carRow","carCol","val","xdiff","ydiff","dist","running","Handoff","grid","arrowdir","newgrid","j","current","k","pathroad","initgrid","handleClick","map","key","uuidv4","e","clicked","innerHTML","clearInterval","intervalid","setInterval","newentrances","newE","updateenter","newcars","move","App","Boolean","location","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.68b2bdaf.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./Node.css\";\r\n\r\nexport default class Node extends Component {\r\n    render() {\r\n        let id =\r\n            this.props.bs >= 0\r\n                ? \"bs\" + this.props.bs\r\n                : \"r\" + this.props.row + \"c\" + this.props.col;\r\n\r\n        let visitingclass = this.props.visiting\r\n            ? \"visiting node-visited\"\r\n            : this.props.bs >= 0\r\n            ? \"bs\"\r\n            : this.props.path\r\n            ? \"path\"\r\n            : \"\";\r\n        let value = this.props.visiting\r\n            ? `${Math.sign(this.props.power) *\r\n                  Math.round(Math.abs(this.props.power))}`\r\n            : \"\";\r\n\r\n        return (\r\n            <div className={`node ${visitingclass}`} id={id}>\r\n                {value}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class Line extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            row: this.props.row,\r\n            col: this.props.col,\r\n            basestaion: this.props.bs\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        let row = this.state.row;\r\n        let col = this.state.col;\r\n        let basestaion = this.state.basestaion;\r\n        let movingnode = document.getElementById(`r${row}c${col}`);\r\n        let bs = document.getElementById(`bs${basestaion}`);\r\n        let linestyle = {};\r\n        if (movingnode !== null && bs !== null) {\r\n            // console.log(movingnode, bs);\r\n            linestyle = connect(bs, movingnode, \"#ffc952\", 5);\r\n            this.setState({ linestyle: linestyle });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let row = this.props.row;\r\n        let col = this.props.col;\r\n        let basestaion = this.props.bs;\r\n        let handoff = this.props.handoff;\r\n        let linestyle = this.state.linestyle;\r\n        let handoffstyle = {};\r\n        let movingnode = document.getElementById(`r${row}c${col}`);\r\n        let bs = document.getElementById(`bs${basestaion}`);\r\n        if (movingnode !== null && bs !== null) {\r\n            linestyle = connect(bs, movingnode, \"#ffc952\", 5);\r\n        }\r\n        if (handoff && movingnode !== null) {\r\n            // console.log(row, col);\r\n            handoffstyle = drawhandoff(movingnode);\r\n        } else {\r\n            handoffstyle = { display: \"none\" };\r\n        }\r\n\r\n        return (\r\n            <>\r\n                <div style={handoffstyle} className={\"handoff\"}></div>\r\n                <div style={linestyle}></div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nfunction drawhandoff(node) {\r\n    var nodeOff = getOffset(node);\r\n    var x = nodeOff.left - 0.7 * nodeOff.width;\r\n    var y = nodeOff.top - 90;\r\n    // console.log(x, y);\r\n    let handoffstyle = {\r\n        padding: \"0px\",\r\n        margin: \"0px\",\r\n        width: \"80px\",\r\n        height: \"80px\",\r\n        position: \"absolute\",\r\n        top: y + \"px\",\r\n        left: x + \"px\"\r\n    };\r\n    return handoffstyle;\r\n}\r\n\r\nfunction connect(div1, div2, color, thickness) {\r\n    var off1 = getOffset(div1);\r\n    var off2 = getOffset(div2);\r\n    // bottom right\r\n    var x1 = off1.left + 0.5 * off1.width;\r\n    var y1 = off1.top + 0.5 * off1.height;\r\n    // top right\r\n    var x2 = off2.left + 0.5 * off2.width;\r\n    var y2 = off2.top + 0.5 * off2.height;\r\n    // distance\r\n    var length = Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\r\n    // center\r\n    var cx = (x1 + x2) / 2 - length / 2;\r\n    var cy = (y1 + y2) / 2 - thickness / 2;\r\n    // angle\r\n    var angle = Math.atan2(y1 - y2, x1 - x2) * (180 / Math.PI);\r\n    // make hr\r\n\r\n    let linestyle = {\r\n        padding: \"0px\",\r\n        margin: \"0px\",\r\n        height: thickness + \"px\",\r\n        backgroundColor: color,\r\n        lineHeight: \"1px\",\r\n        position: \"absolute\",\r\n        left: cx + \"px\",\r\n        top: cy + \"px\",\r\n        width: length + \"px\",\r\n        transform: \"rotate(\" + angle + \"deg)\",\r\n        opacity: 0.5\r\n    };\r\n\r\n    return linestyle;\r\n\r\n    // document.body.innerHTML += htmlLine;\r\n}\r\n\r\nfunction getOffset(el) {\r\n    var rect = el.getBoundingClientRect();\r\n    return {\r\n        left: rect.left + window.pageXOffset,\r\n        top: rect.top + window.pageYOffset,\r\n        width: rect.width || el.offsetWidth,\r\n        height: rect.height || el.offsetHeight\r\n    };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"./Entrance.css\";\r\n\r\nexport default class Entrance extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            row: this.props.row,\r\n            col: this.props.col,\r\n            dir: this.props.dir,\r\n            enter: this.props.enter\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        let row = this.state.row;\r\n        let col = this.state.col;\r\n        let dir = this.state.dir;\r\n        let enter = this.state.enter;\r\n        let entrancenode = document.getElementById(`r${row}c${col}`);\r\n        if (entrancenode !== null) {\r\n            let result = getstyle(entrancenode, dir, enter);\r\n            this.setState({ style: result.style, arrowimg: result.arrowimg });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let entrancestyle = this.state.style;\r\n        let arrowimg = this.state.arrowimg;\r\n        let entering =\r\n            this.state.enter === 0\r\n                ? \"entering\"\r\n                : this.state.enter === 1\r\n                ? \"leaving\"\r\n                : \"\";\r\n        // console.log(this.state.enter);\r\n        // console.log(entrancestyle);\r\n        return (\r\n            <div\r\n                style={entrancestyle}\r\n                className={`${arrowimg} ${entering} arrowsize`}\r\n            ></div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction getstyle(node, dir, enter) {\r\n    let offset = getOffset(node);\r\n    var x = 0;\r\n    var y = 0;\r\n    var bg = \"\";\r\n\r\n    if (dir === 1) {\r\n        x = offset.left - 85;\r\n        y = offset.top - 25;\r\n        bg = `arrow${dir}`;\r\n    } else if (dir === 0) {\r\n        x = offset.left - 25;\r\n        y = offset.top + 35;\r\n        bg = `arrow${dir}`;\r\n    } else if (dir === 2) {\r\n        x = offset.left - 25;\r\n        y = offset.top - 85;\r\n        bg = `arrow${dir}`;\r\n    } else if (dir === 3) {\r\n        x = offset.left + 35;\r\n        y = offset.top - 25;\r\n        bg = `arrow${dir}`;\r\n    }\r\n\r\n    let style = {\r\n        padding: \"0px\",\r\n        margin: \"0px\",\r\n        position: \"absolute\",\r\n        top: y + \"px\",\r\n        left: x + \"px\"\r\n    };\r\n\r\n    return {\r\n        style: style,\r\n        arrowimg: bg\r\n    };\r\n}\r\n\r\nfunction getOffset(el) {\r\n    var rect = el.getBoundingClientRect();\r\n    return {\r\n        left: rect.left + window.pageXOffset,\r\n        top: rect.top + window.pageYOffset,\r\n        width: rect.width || el.offsetWidth,\r\n        height: rect.height || el.offsetHeight\r\n    };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport createPlotlyComponent from \"react-plotly.js/factory\";\r\nimport Plotly from \"plotly.js/dist/plotly-cartesian\";\r\nimport \"./Data.css\";\r\n\r\nconst Plot = createPlotlyComponent(Plotly);\r\nlet carslist = [];\r\nlet handoffslist = [];\r\nlet powerlist = [];\r\nlet carcntlist = [];\r\nlet handcntlist = [];\r\nlet powercntlist = [];\r\nlet carcnt = 0;\r\nlet handcnt = 0;\r\nlet powercnt = 0;\r\nlet init = 0;\r\n\r\nexport default class Data extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {};\r\n    }\r\n\r\n    render() {\r\n        let type = this.props.type;\r\n        let data = this.props.data;\r\n        let typename = \"\";\r\n        let extra = \"\";\r\n        let xlist = [];\r\n        let list = [];\r\n        if (type === \"cars\") {\r\n            typename = \"Cars\";\r\n            carslist.push(data);\r\n            carcntlist.push(carcnt);\r\n            carcnt++;\r\n            xlist = carcntlist;\r\n            list = carslist;\r\n            init = 4;\r\n        } else if (type === \"handoffs\") {\r\n            typename = \"Handoffs\";\r\n            handoffslist.push(data);\r\n            handcntlist.push(handcnt);\r\n            handcnt++;\r\n            xlist = handcntlist;\r\n            list = handoffslist;\r\n            init = 0;\r\n        } else if (type === \"power\") {\r\n            typename = \"Average Power\";\r\n            extra = \"dBm\";\r\n            data = data.toFixed(2);\r\n            powerlist.push(data);\r\n            powercntlist.push(powercnt);\r\n            powercnt++;\r\n            xlist = powercntlist;\r\n            list = powerlist;\r\n            init = -103;\r\n        }\r\n        // console.log(xlist, list);\r\n        return (\r\n            <div className=\"datacontainer\">\r\n                <div className=\"data\">\r\n                    <div className=\"word\">{typename}</div>\r\n                    <div className={type}>{`${data} ${extra}`}</div>\r\n                </div>\r\n                <div className=\"plotlycontainer\">\r\n                    <Plot\r\n                        style={{ width: \"100%\", height: \"100%\" }}\r\n                        useResizeHandler\r\n                        data={[\r\n                            {\r\n                                x: xlist,\r\n                                y: list,\r\n                                type: \"line\",\r\n                                marker: { color: \"#be3335\" }\r\n                            },\r\n                            { type: \"line\", x: [0], y: [init] }\r\n                        ]}\r\n                        layout={{\r\n                            autosize: true,\r\n                            title: typename,\r\n                            showlegend: false,\r\n                            margin: {\r\n                                t: 30,\r\n                                r: 20,\r\n                                l: 45,\r\n                                b: 20\r\n                            },\r\n                            useResizeHandler: true\r\n                        }}\r\n                        config={{ displayModeBar: false }}\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n// function plot(type, list) {\r\n//     let title = \"\";\r\n\r\n//     if (type === \"Cars\") title = \"Number of Cars\";\r\n//     else if (type === \"Handoffs\") title = \"Number of Handoffs\";\r\n//     else if (type === \"Avg. Power\") {\r\n//         title = \"Average Power\";\r\n//         type = \"Power\";\r\n//     }\r\n//     window.Plotly.newPlot(\r\n//         type,\r\n//         [\r\n//             {\r\n//                 y: list,\r\n//                 type: \"line\"\r\n//             }\r\n//         ],\r\n//         {\r\n//             title: title,\r\n//             margin: {\r\n//                 t: 30,\r\n//                 r: 20,\r\n//                 l: 45,\r\n//                 b: 20\r\n//             }\r\n//         }\r\n//     );\r\n\r\n//     if (type === \"Power\") {\r\n//         cnt++;\r\n//         if (cnt > 12) {\r\n//             window.Plotly.relayout(type, {\r\n//                 xaxis: {\r\n//                     range: [cnt - 10, cnt]\r\n//                 }\r\n//             });\r\n//         }\r\n//     }\r\n// }\r\n","import React, { Component } from \"react\";\r\nimport { Navbar, Nav } from \"react-bootstrap\";\r\nimport \"./BootstrapNav.css\";\r\n\r\nexport default class BootstrapNav extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Navbar\r\n                    bg=\"dark\"\r\n                    expand=\"md\"\r\n                    variant=\"dark\"\r\n                    fixed=\"top\"\r\n                    className=\"navbrand\"\r\n                >\r\n                    <Navbar.Brand href=\"#home\">\r\n                        <img\r\n                            alt=\"\"\r\n                            src=\"./bs.png\"\r\n                            width=\"35\"\r\n                            height=\"35\"\r\n                            className=\"d-inline-block align-top\"\r\n                            id=\"logo\"\r\n                        />{\" \"}\r\n                        Wireless Network Handoff Visualizer\r\n                    </Navbar.Brand>\r\n                    <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                    <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                        <Nav className=\"ml-auto\">\r\n                            <Nav.Link\r\n                                href=\"https://github.com/chonyy/handoff-visualizer/blob/master/README.md\"\r\n                                className=\"navbarlinks\"\r\n                            >\r\n                                Docs\r\n                            </Nav.Link>\r\n                            <Nav.Link\r\n                                href=\"https://github.com/chonyy/handoff-visualizer\"\r\n                                className=\"navbarlinks\"\r\n                            >\r\n                                Source\r\n                            </Nav.Link>\r\n                            <Nav.Link\r\n                                href=\"https://github.com/chonyy\"\r\n                                className=\"navbarlinks\"\r\n                            >\r\n                                Creator\r\n                            </Nav.Link>\r\n                        </Nav>\r\n                    </Navbar.Collapse>\r\n                </Navbar>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Dropdown from \"react-bootstrap/Dropdown\";\r\n\r\nexport default class BootstrapDrop extends Component {\r\n    render() {\r\n        return (\r\n            <Dropdown>\r\n                <Dropdown.Toggle\r\n                    size=\"lg\"\r\n                    variant=\"success\"\r\n                    id=\"dropdown-basic\"\r\n                >\r\n                    Best Policy\r\n                </Dropdown.Toggle>\r\n\r\n                <Dropdown.Menu>\r\n                    <Dropdown.Item onClick={() => this.handledrop(0)}>\r\n                        Best Policy\r\n                    </Dropdown.Item>\r\n                    <Dropdown.Item onClick={() => this.handledrop(1)}>\r\n                        Threshold Policy\r\n                    </Dropdown.Item>\r\n                    <Dropdown.Item onClick={() => this.handledrop(2)}>\r\n                        Entrophy Policy\r\n                    </Dropdown.Item>\r\n                    <Dropdown.Item onClick={() => this.handledrop(3)}>\r\n                        Minimum Policy\r\n                    </Dropdown.Item>\r\n                </Dropdown.Menu>\r\n            </Dropdown>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"./Icons.css\";\r\n\r\nexport default class Icons extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {};\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"icons-description\">\r\n                <div className=\"icon-row\">\r\n                    <div className=\"ms first\">-103</div>\r\n                    <div className=\"legend second\">MS, Car (Power)</div>\r\n                </div>\r\n                <div className=\"icon-row\">\r\n                    <div className=\"bs first\"></div>\r\n                    <div className=\"legend second\">BS, Base station</div>\r\n                </div>\r\n                <div className=\"icon-row\">\r\n                    <div className=\"transmission first\"></div>\r\n                    <div className=\"legend second\">Servicing</div>\r\n                </div>\r\n                <div className=\"icon-row\">\r\n                    <div className=\"path first\"></div>\r\n                    <div className=\"legend second\">MS Path</div>\r\n                </div>\r\n                <div className=\"icon-row\">\r\n                    <div className=\"block first\"></div>\r\n                    <div className=\"legend second\">Block</div>\r\n                </div>\r\n                <div className=\"icon-row\">\r\n                    <div className=\"handoff first\"></div>\r\n                    <div className=\"legend second\">Handoff Made</div>\r\n                </div>\r\n                <div className=\"icon-row\">\r\n                    <div className=\"entrancee first\"></div>\r\n                    <div>\r\n                        <div className=\"legend second\">MS Entrance</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"third\">(Cars can only enter or leave here)</div>\r\n                <div className=\"icon-row\">\r\n                    <div className=\"enteringg first\"></div>\r\n                    <div className=\"legend second\">Car Entering</div>\r\n                </div>\r\n                <div className=\"icon-row\">\r\n                    <div className=\"leavingg first\"></div>\r\n                    <div className=\"legend second\">Car leaving</div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n/* black arrow\r\ngreen arrow\r\nred arrow\r\n\r\nmake img with ppt */\r\n","import React, { Component } from \"react\";\r\nimport BootstrapDrop from \"./BootstrapDrop\";\r\nimport Icons from \"./Icons\";\r\n\r\nexport default class Description extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"descontainer\">\r\n                <div className=\"description\">\r\n                    <div className=\"goalcontainer\">\r\n                        <div className=\"intro goal\">Goal</div>\r\n                        <div className=\"intro intropower\">Least Handoffs</div>\r\n                        <div className=\"intro introhandoffs\">Highest Power</div>\r\n                    </div>\r\n                    <BootstrapDrop></BootstrapDrop>\r\n                    <div className=\"button\" onClick={() => this.handleClick()}>\r\n                        <div>Visualize</div>\r\n                    </div>\r\n                    <Icons></Icons>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport uuidv4 from \"uuid/v4\";\r\nimport Node from \"./Node\";\r\nimport Line from \"./Line\";\r\nimport Entrance from \"./Entrance\";\r\n\r\nexport default class Simulation extends Component {\r\n    render() {\r\n        let grid = this.props.grid;\r\n        let cars = this.props.cars;\r\n        let entrances = this.props.entrances;\r\n\r\n        return (\r\n            <div className=\"simcontainer\">\r\n                <div className=\"simulation\">\r\n                    <div className=\"board\">\r\n                        {grid.map(row => {\r\n                            return (\r\n                                <div key={uuidv4()} className=\"roww\">\r\n                                    {row.map(node => {\r\n                                        // console.log(node);\r\n                                        return (\r\n                                            <Node\r\n                                                key={uuidv4()}\r\n                                                row={node.row}\r\n                                                col={node.col}\r\n                                                visiting={node.visiting}\r\n                                                path={node.path}\r\n                                                bs={node.bs}\r\n                                                power={node.power}\r\n                                                handoff={node.handoff}\r\n                                            ></Node>\r\n                                        );\r\n                                    })}\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                    <div>\r\n                        {cars.map(car => {\r\n                            return (\r\n                                <Line\r\n                                    key={uuidv4()}\r\n                                    row={car.row}\r\n                                    col={car.col}\r\n                                    bs={car.bs}\r\n                                    handoff={car.handoff}\r\n                                ></Line>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                    <div>\r\n                        {entrances.map(e => {\r\n                            let entering = -1;\r\n                            if (e.carenter === 0) entering = 0;\r\n                            else if (e.carenter === 1) entering = 1;\r\n                            e.carenter = -1;\r\n                            return (\r\n                                <Entrance\r\n                                    key={uuidv4()}\r\n                                    row={e.row}\r\n                                    col={e.col}\r\n                                    dir={e.arrowdir}\r\n                                    enter={entering}\r\n                                ></Entrance>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Data from \"./Data\";\r\n\r\nexport default class Plots extends Component {\r\n    render() {\r\n        let cars = this.props.cars;\r\n        let handoffs = this.props.handoffs;\r\n        let power = this.props.power;\r\n\r\n        return (\r\n            <div className=\"datacontainer\">\r\n                <div className=\"datas\">\r\n                    <Data type={\"cars\"} data={cars}></Data>\r\n                    <Data type={\"handoffs\"} data={handoffs}></Data>\r\n                    <Data type={\"power\"} data={power}></Data>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","const p = 0.0163911909;\r\nconst e = 5;\r\nconst t = -108;\r\nconst pMin = -112;\r\n\r\nconst bstation = [\r\n    {\r\n        row: 5,\r\n        col: 7\r\n    },\r\n    {\r\n        row: 5,\r\n        col: 21\r\n    },\r\n    {\r\n        row: 15,\r\n        col: 7\r\n    },\r\n    {\r\n        row: 15,\r\n        col: 21\r\n    }\r\n];\r\n\r\nexport function initgrid(cars) {\r\n    let newgrid = [];\r\n    for (let i = 0; i < 21; i++) {\r\n        let row = [];\r\n        for (let j = 0; j < 29; j++) {\r\n            let current = false;\r\n            let power = 0;\r\n            let handoff = false;\r\n            for (let k = 0; k < cars.length; k++) {\r\n                if (i === cars[k].row && j === cars[k].col) {\r\n                    current = true;\r\n                    power = cars[k].power;\r\n                    handoff = cars[k].handoff;\r\n                    break;\r\n                }\r\n            }\r\n            let bs = -1;\r\n            let pathroad = i % 5 === 0 || j % 7 === 0 ? true : false;\r\n            if (i === 5 && j === 7) bs = 0;\r\n            else if (i === 5 && j === 21) bs = 1;\r\n            else if (i === 15 && j === 7) bs = 2;\r\n            else if (i === 15 && j === 21) bs = 3;\r\n            row.push({\r\n                row: i,\r\n                col: j,\r\n                visiting: current,\r\n                path: pathroad,\r\n                bs: bs,\r\n                power: power,\r\n                handoff: handoff\r\n            });\r\n        }\r\n        newgrid.push(row);\r\n    }\r\n    return newgrid;\r\n}\r\n\r\nexport function move(cars) {\r\n    let newgrid = [];\r\n    for (let i = 0; i < 21; i++) {\r\n        let row = [];\r\n        for (let j = 0; j < 29; j++) {\r\n            let current = false;\r\n            let power = 0;\r\n            let handoff = false;\r\n            for (let k = 0; k < cars.length; k++) {\r\n                if (i === cars[k].row && j === cars[k].col) {\r\n                    current = true;\r\n                    power = cars[k].power;\r\n                    handoff = cars[k].handoff;\r\n                    break;\r\n                }\r\n            }\r\n            let bs = -1;\r\n            let pathroad = i % 5 === 0 || j % 7 === 0 ? true : false;\r\n            if (i === 5 && j === 7) bs = 0;\r\n            else if (i === 5 && j === 21) bs = 1;\r\n            else if (i === 15 && j === 7) bs = 2;\r\n            else if (i === 15 && j === 21) bs = 3;\r\n            row.push({\r\n                row: i,\r\n                col: j,\r\n                visiting: current,\r\n                path: pathroad,\r\n                bs: bs,\r\n                power: power,\r\n                handoff: handoff\r\n            });\r\n        }\r\n        newgrid.push(row);\r\n    }\r\n    return newgrid;\r\n}\r\n\r\nexport function carmoving(entrances, oldcars, policy, plotdata) {\r\n    let cars = [...oldcars];\r\n    let cartoremove = [];\r\n    let carsingrid = 0;\r\n    let totalpower = 0;\r\n    for (let i = 0; i < cars.length; i++) {\r\n        let car = cars[i];\r\n        if (car.row < 0 || car.row > 20 || car.col < 0 || car.col > 28)\r\n            cartoremove.push(car);\r\n        else {\r\n            if (car.row % 5 === 0 && car.col % 7 === 0) changedirection(car);\r\n            carmovealongdir(car);\r\n            checkBS(car, policy, plotdata);\r\n            carsingrid++;\r\n            totalpower += car.power;\r\n        }\r\n    }\r\n    plotdata.averagepower = totalpower / carsingrid;\r\n    removecars(cars, cartoremove, entrances);\r\n    return cars;\r\n}\r\n\r\nexport function changedirection(car) {\r\n    let orig = car.dir;\r\n    let randnum = getRandomInt(0, 5);\r\n    // at corner\r\n    if (car.row % 20 === 0 && car.col % 28 === 0) {\r\n        if (car.row === 0 && car.col === 0) {\r\n            if (orig === 0) orig = 1;\r\n            else if (orig === 3) orig = 2;\r\n        } else if (car.row === 20 && car.col === 0) {\r\n            if (orig === 3) orig = 0;\r\n            else if (orig === 2) orig = 1;\r\n        } else if (car.row === 0 && car.col === 28) {\r\n            if (orig === 1) orig = 2;\r\n            else if (orig === 0) orig = 3;\r\n        } else if (car.row === 20 && car.col === 28) {\r\n            if (orig === 2) orig = 3;\r\n            else if (orig === 1) orig = 0;\r\n        }\r\n    }\r\n    // crossroad with two choices\r\n    else if (\r\n        (car.row === 0 && car.col === 14) ||\r\n        (car.row === 10 && car.col === 0) ||\r\n        (car.row === 10 && car.col === 28) ||\r\n        (car.row === 20 && car.col === 14)\r\n    ) {\r\n        let dirs = dirTwochoices(car.dir, car.row, car.col);\r\n        if (randnum <= 2) {\r\n            orig = dirs[0];\r\n        } else {\r\n            orig = dirs[1];\r\n        }\r\n    } else {\r\n        // turn left\r\n        if (randnum === 0) orig--;\r\n        // turn right\r\n        else if (randnum === 1 || randnum === 2) orig++;\r\n    }\r\n\r\n    if (orig === -1) orig = 3;\r\n    orig %= 4;\r\n    car.dir = orig;\r\n}\r\n\r\nexport function getRandomInt(min, max) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nexport function removecars(cars, cartoremove, entrances) {\r\n    for (let i = 0; i < cartoremove.length; i++) {\r\n        let row = cartoremove[i].row;\r\n        let col = cartoremove[i].col;\r\n        console.log(row, col);\r\n        if (row === -1 && col === 7) entrances[0].carenter = 1;\r\n        else if (row === -1 && col === 21) entrances[1].carenter = 1;\r\n        else if (row === 21 && col === 7) entrances[2].carenter = 1;\r\n        else if (row === 21 && col === 21) entrances[3].carenter = 1;\r\n        else if (row === 5 && col === 29) entrances[4].carenter = 1;\r\n        else if (row === 15 && col === 29) entrances[5].carenter = 1;\r\n        else if (row === 5 && col === -1) entrances[6].carenter = 1;\r\n        else if (row === 15 && col === -1) entrances[7].carenter = 1;\r\n\r\n        cars.splice(cars.indexOf(cartoremove[i]), 1);\r\n    }\r\n}\r\n\r\nexport function carmovealongdir(car) {\r\n    if (car.dir === 2) {\r\n        car.row++;\r\n    } else if (car.dir === 0) {\r\n        car.row--;\r\n    } else if (car.dir === 1) {\r\n        car.col++;\r\n    } else if (car.dir === 3) {\r\n        car.col--;\r\n    }\r\n}\r\n\r\nexport function checkBS(car, policy, plotdata) {\r\n    let handoff = false;\r\n    let pOld = power(car.row, car.col, bstation[car.bs]);\r\n    let powerReceived = [];\r\n    powerReceived.push(power(car.row, car.col, bstation[0]));\r\n    powerReceived.push(power(car.row, car.col, bstation[1]));\r\n    powerReceived.push(power(car.row, car.col, bstation[2]));\r\n    powerReceived.push(power(car.row, car.col, bstation[3]));\r\n\r\n    let pNew = Math.max(...powerReceived);\r\n    let newBS = powerReceived.indexOf(pNew);\r\n\r\n    if (policy === 0) {\r\n        if (pNew > pOld) {\r\n            car.bs = newBS;\r\n            car.power = pNew;\r\n            handoff = true;\r\n            console.log(\"best\");\r\n        }\r\n    } else if (policy === 1) {\r\n        if (pNew > pOld && pOld < t) {\r\n            console.log(\"new\", pNew);\r\n            console.log(\"old\", pOld);\r\n            car.bs = newBS;\r\n            car.power = pNew;\r\n            handoff = true;\r\n            console.log(\"threshold\");\r\n        }\r\n    } else if (policy === 2) {\r\n        if (pNew > pOld + e) {\r\n            car.bs = newBS;\r\n            car.power = pNew;\r\n            handoff = true;\r\n            console.log(\"entrophy\");\r\n        }\r\n    } else if (policy === 3) {\r\n        if (pOld < pMin) {\r\n            car.bs = newBS;\r\n            car.power = pNew;\r\n            handoff = true;\r\n            console.log(\"minimum\");\r\n        }\r\n    }\r\n\r\n    if (handoff) {\r\n        plotdata.handoffs++;\r\n        car.handoff = true;\r\n    }\r\n    //update power with original bs if no handoff\r\n    else {\r\n        car.power = pOld;\r\n        car.handoff = false;\r\n    }\r\n}\r\n\r\nexport function power(carRow, carCol, bs) {\r\n    let powerVal = 0;\r\n    let xdiff = Math.abs(carCol - bs.col) * 20;\r\n    let ydiff = Math.abs(carRow - bs.row) * 20;\r\n    let dist = (xdiff ** 2 + ydiff ** 2) ** (1 / 2);\r\n    if (dist === 0) {\r\n        powerVal = -50;\r\n    } else {\r\n        powerVal = -60 - 20 * log10(dist);\r\n    }\r\n    return powerVal;\r\n}\r\n\r\nexport function log10(val) {\r\n    return Math.log(val) / Math.log(10);\r\n}\r\n\r\nexport function dirTwochoices(dir, row, col) {\r\n    let dirs = [0, 1, 2, 3];\r\n    let dirtodelete = (dir + 2) % 4;\r\n\r\n    dirs.splice(dirs.indexOf(dirtodelete), 1);\r\n    if (row === 0 && col === 14) {\r\n        dirs.splice(dirs.indexOf(0), 1);\r\n    } else if (row === 10 && col === 0) {\r\n        dirs.splice(dirs.indexOf(3), 1);\r\n    } else if (row === 10 && col === 28) {\r\n        dirs.splice(dirs.indexOf(1), 1);\r\n    } else if (row === 20 && col === 14) {\r\n        dirs.splice(dirs.indexOf(2), 1);\r\n    }\r\n\r\n    return dirs;\r\n}\r\n\r\nexport function updateenter(entrances, cars) {\r\n    let newE = [...entrances];\r\n\r\n    for (let i = 0; i < 8; i++) {\r\n        let randnum = Math.random();\r\n        let enter = randnum < p;\r\n        if (enter) {\r\n            //top 2\r\n            if (i === 0) {\r\n                cars.push({\r\n                    row: 0,\r\n                    col: 7,\r\n                    dir: 2,\r\n                    bs: 0,\r\n                    power: power(0, 7, bstation[0])\r\n                });\r\n            } else if (i === 1) {\r\n                cars.push({\r\n                    row: 0,\r\n                    col: 21,\r\n                    dir: 2,\r\n                    bs: 1,\r\n                    power: power(0, 21, bstation[1])\r\n                });\r\n            }\r\n            //bottom 2\r\n            else if (i === 2) {\r\n                cars.push({\r\n                    row: 20,\r\n                    col: 7,\r\n                    dir: 0,\r\n                    bs: 2,\r\n                    power: power(20, 7, bstation[2])\r\n                });\r\n            } else if (i === 3) {\r\n                cars.push({\r\n                    row: 20,\r\n                    col: 21,\r\n                    dir: 0,\r\n                    bs: 3,\r\n                    power: power(20, 21, bstation[3])\r\n                });\r\n            }\r\n            //right 2\r\n            else if (i === 4) {\r\n                cars.push({\r\n                    row: 5,\r\n                    col: 28,\r\n                    dir: 3,\r\n                    bs: 1,\r\n                    power: power(5, 28, bstation[1])\r\n                });\r\n            } else if (i === 5) {\r\n                cars.push({\r\n                    row: 15,\r\n                    col: 28,\r\n                    dir: 3,\r\n                    bs: 3,\r\n                    power: power(15, 28, bstation[3])\r\n                });\r\n            }\r\n            //left 2\r\n            else if (i === 6) {\r\n                cars.push({\r\n                    row: 5,\r\n                    col: 0,\r\n                    dir: 2,\r\n                    bs: 0,\r\n                    power: power(5, 0, bstation[0])\r\n                });\r\n            } else if (i === 7) {\r\n                cars.push({\r\n                    row: 15,\r\n                    col: 0,\r\n                    dir: 2,\r\n                    bs: 2,\r\n                    power: power(15, 0, bstation[2])\r\n                });\r\n            }\r\n            // console.log(\"entering\", newE[i]);\r\n            newE[i].carenter = 0;\r\n        }\r\n    }\r\n\r\n    return newE;\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Node from \"./Node\";\r\nimport uuidv4 from \"uuid/v4\";\r\nimport Line from \"./Line\";\r\nimport Entrance from \"./Entrance\";\r\nimport Data from \"./Data\";\r\nimport BootstrapNav from \"./BootstrapNav\";\r\nimport \"./Handoff.css\";\r\nimport BootstrapDrop from \"./BootstrapDrop\";\r\nimport Icons from \"./Icons\";\r\nimport Description from \"./Description\";\r\nimport Simulation from \"./Simulation\";\r\nimport Plots from \"./Plots\";\r\nimport Dropdown from \"react-bootstrap/Dropdown\";\r\nimport { initgrid, move, carmoving, power, updateenter } from \"./utils.mjs\";\r\n\r\nlet policy = 0;\r\nlet plotdata = { handoffs: 0, averagepower: -103 };\r\nlet running = 0;\r\n\r\nconst bstation = [\r\n    {\r\n        row: 5,\r\n        col: 7\r\n    },\r\n    {\r\n        row: 5,\r\n        col: 21\r\n    },\r\n    {\r\n        row: 15,\r\n        col: 7\r\n    },\r\n    {\r\n        row: 15,\r\n        col: 21\r\n    }\r\n];\r\n\r\nexport default class Handoff extends Component {\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            grid: [],\r\n            cars: [\r\n                //0:top, 1:right, 2:down, 3:left\r\n                {\r\n                    row: 5,\r\n                    col: 0,\r\n                    dir: 1,\r\n                    bs: 0,\r\n                    power: power(5, 0, bstation[0]),\r\n                    handoff: false\r\n                },\r\n                {\r\n                    row: 5,\r\n                    col: 28,\r\n                    dir: 3,\r\n                    bs: 1,\r\n                    power: power(5, 28, bstation[1]),\r\n                    handoff: false\r\n                },\r\n                {\r\n                    row: 15,\r\n                    col: 0,\r\n                    dir: 1,\r\n                    bs: 2,\r\n                    power: power(15, 0, bstation[2]),\r\n                    handoff: false\r\n                },\r\n                {\r\n                    row: 15,\r\n                    col: 28,\r\n                    dir: 3,\r\n                    bs: 3,\r\n                    power: power(15, 28, bstation[3]),\r\n                    handoff: false\r\n                }\r\n            ],\r\n            entrances: [\r\n                {\r\n                    row: 0,\r\n                    col: 7,\r\n                    arrowdir: 2,\r\n                    carenter: -1\r\n                },\r\n                {\r\n                    row: 0,\r\n                    col: 21,\r\n                    arrowdir: 2,\r\n                    carenter: -1\r\n                },\r\n                {\r\n                    row: 20,\r\n                    col: 7,\r\n                    arrowdir: 0,\r\n                    carenter: -1\r\n                },\r\n                {\r\n                    row: 20,\r\n                    col: 21,\r\n                    arrowdir: 0,\r\n                    carenter: -1\r\n                },\r\n                {\r\n                    row: 5,\r\n                    col: 28,\r\n                    arrowdir: 3,\r\n                    carenter: -1\r\n                },\r\n                {\r\n                    row: 15,\r\n                    col: 28,\r\n                    arrowdir: 3,\r\n                    carenter: -1\r\n                },\r\n                {\r\n                    row: 5,\r\n                    col: 0,\r\n                    arrowdir: 1,\r\n                    carenter: -1\r\n                },\r\n                {\r\n                    row: 15,\r\n                    col: 0,\r\n                    arrowdir: 1,\r\n                    carenter: -1\r\n                }\r\n            ]\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        let newgrid = initgrid(this.state.cars);\r\n\r\n        this.setState({ grid: newgrid });\r\n        let grid = this.state.grid;\r\n        let cars = this.state.cars;\r\n        let entrances = this.state.entrances;\r\n        return (\r\n            <div className=\"maincontent\">\r\n                <div className=\"descontainer\">\r\n                    <div className=\"description\">\r\n                        <div className=\"goalcontainer\">\r\n                            <div className=\"intro goal\">Goal</div>\r\n                            <div className=\"intro intropower\">\r\n                                Least Handoffs\r\n                            </div>\r\n                            <div className=\"intro introhandoffs\">\r\n                                Highest Power\r\n                            </div>\r\n                        </div>\r\n                        <BootstrapDrop></BootstrapDrop>\r\n                        <div\r\n                            className=\"button\"\r\n                            onClick={() => this.handleClick()}\r\n                        >\r\n                            <div>Visualize</div>\r\n                        </div>\r\n                        <Icons></Icons>\r\n                    </div>\r\n                </div>\r\n                <div className=\"simcontainer\">\r\n                    <div className=\"simulation\">\r\n                        <div className=\"board\">\r\n                            {grid.map(row => {\r\n                                return (\r\n                                    <div key={uuidv4()} className=\"roww\">\r\n                                        {row.map(node => {\r\n                                            // console.log(node);\r\n                                            return (\r\n                                                <Node\r\n                                                    key={uuidv4()}\r\n                                                    row={node.row}\r\n                                                    col={node.col}\r\n                                                    visiting={node.visiting}\r\n                                                    path={node.path}\r\n                                                    bs={node.bs}\r\n                                                    power={node.power}\r\n                                                    handoff={node.handoff}\r\n                                                ></Node>\r\n                                            );\r\n                                        })}\r\n                                    </div>\r\n                                );\r\n                            })}\r\n                        </div>\r\n                        <div>\r\n                            {cars.map(car => {\r\n                                return (\r\n                                    <Line\r\n                                        key={uuidv4()}\r\n                                        row={car.row}\r\n                                        col={car.col}\r\n                                        bs={car.bs}\r\n                                        handoff={car.handoff}\r\n                                    ></Line>\r\n                                );\r\n                            })}\r\n                        </div>\r\n                        <div>\r\n                            {entrances.map(e => {\r\n                                let entering = -1;\r\n                                if (e.carenter === 0) entering = 0;\r\n                                else if (e.carenter === 1) entering = 1;\r\n                                e.carenter = -1;\r\n                                return (\r\n                                    <Entrance\r\n                                        key={uuidv4()}\r\n                                        row={e.row}\r\n                                        col={e.col}\r\n                                        dir={e.arrowdir}\r\n                                        enter={entering}\r\n                                    ></Entrance>\r\n                                );\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"datacontainer\">\r\n                    <div className=\"datas\">\r\n                        <Data type={\"cars\"} data={cars.length}></Data>\r\n                        <Data type={\"handoffs\"} data={plotdata.handoffs}></Data>\r\n                        <Data\r\n                            type={\"power\"}\r\n                            data={plotdata.averagepower}\r\n                        ></Data>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    handledrop(clicked) {\r\n        if (clicked === 0) {\r\n            document.getElementById(\"dropdown-basic\").innerHTML = \"Best Policy\";\r\n            policy = 0;\r\n        } else if (clicked === 1) {\r\n            document.getElementById(\"dropdown-basic\").innerHTML =\r\n                \"Threshsold Policy\";\r\n            policy = 1;\r\n        } else if (clicked === 2) {\r\n            document.getElementById(\"dropdown-basic\").innerHTML =\r\n                \"Entrophy Policy\";\r\n            policy = 2;\r\n        } else if (clicked === 3) {\r\n            document.getElementById(\"dropdown-basic\").innerHTML =\r\n                \"Minimum Policy\";\r\n            policy = 3;\r\n        }\r\n    }\r\n\r\n    handleClick() {\r\n        if (running === 1) {\r\n            running = 0;\r\n            clearInterval(window.intervalid);\r\n        } else {\r\n            running = 1;\r\n            window.intervalid = setInterval(() => {\r\n                console.log(running);\r\n                let newentrances = updateenter(\r\n                    this.state.entrances,\r\n                    this.state.cars\r\n                );\r\n                let newcars = carmoving(\r\n                    this.state.entrances,\r\n                    this.state.cars,\r\n                    policy,\r\n                    plotdata\r\n                );\r\n                let newgrid = move(this.state.cars);\r\n                this.setState({\r\n                    grid: newgrid,\r\n                    cars: newcars,\r\n                    entrances: newentrances\r\n                });\r\n            }, 600);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let grid = this.state.grid;\r\n        let cars = this.state.cars;\r\n        let entrances = this.state.entrances;\r\n        return (\r\n            <div>\r\n                <BootstrapNav></BootstrapNav>\r\n                <div className=\"maincontent\">\r\n                    <div className=\"descontainer\">\r\n                        <div className=\"description\">\r\n                            <div className=\"goalcontainer\">\r\n                                <div className=\"intro goal\">Goal</div>\r\n                                <div className=\"intro intropower\">\r\n                                    Least Handoffs\r\n                                </div>\r\n                                <div className=\"intro introhandoffs\">\r\n                                    Highest Power\r\n                                </div>\r\n                            </div>\r\n                            <Dropdown>\r\n                                <Dropdown.Toggle\r\n                                    size=\"lg\"\r\n                                    variant=\"success\"\r\n                                    id=\"dropdown-basic\"\r\n                                >\r\n                                    Best Policy\r\n                                </Dropdown.Toggle>\r\n\r\n                                <Dropdown.Menu>\r\n                                    <Dropdown.Item\r\n                                        onClick={() => this.handledrop(0)}\r\n                                    >\r\n                                        Best Policy\r\n                                    </Dropdown.Item>\r\n                                    <Dropdown.Item\r\n                                        onClick={() => this.handledrop(1)}\r\n                                    >\r\n                                        Threshold Policy\r\n                                    </Dropdown.Item>\r\n                                    <Dropdown.Item\r\n                                        onClick={() => this.handledrop(2)}\r\n                                    >\r\n                                        Entrophy Policy\r\n                                    </Dropdown.Item>\r\n                                    <Dropdown.Item\r\n                                        onClick={() => this.handledrop(3)}\r\n                                    >\r\n                                        Minimum Policy\r\n                                    </Dropdown.Item>\r\n                                </Dropdown.Menu>\r\n                            </Dropdown>\r\n                            <div\r\n                                className=\"button\"\r\n                                onClick={() => this.handleClick()}\r\n                            >\r\n                                <div>Visualize</div>\r\n                            </div>\r\n                            <Icons></Icons>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"simcontainer\">\r\n                        <div className=\"simulation\">\r\n                            <div className=\"board\">\r\n                                {grid.map(row => {\r\n                                    return (\r\n                                        <div key={uuidv4()} className=\"roww\">\r\n                                            {row.map(node => {\r\n                                                // console.log(node);\r\n                                                return (\r\n                                                    <Node\r\n                                                        key={uuidv4()}\r\n                                                        row={node.row}\r\n                                                        col={node.col}\r\n                                                        visiting={node.visiting}\r\n                                                        path={node.path}\r\n                                                        bs={node.bs}\r\n                                                        power={node.power}\r\n                                                        handoff={node.handoff}\r\n                                                    ></Node>\r\n                                                );\r\n                                            })}\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                            <div>\r\n                                {cars.map(car => {\r\n                                    return (\r\n                                        <Line\r\n                                            key={uuidv4()}\r\n                                            row={car.row}\r\n                                            col={car.col}\r\n                                            bs={car.bs}\r\n                                            handoff={car.handoff}\r\n                                        ></Line>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                            <div>\r\n                                {entrances.map(e => {\r\n                                    let entering = -1;\r\n                                    if (e.carenter === 0) entering = 0;\r\n                                    else if (e.carenter === 1) entering = 1;\r\n                                    e.carenter = -1;\r\n                                    return (\r\n                                        <Entrance\r\n                                            key={uuidv4()}\r\n                                            row={e.row}\r\n                                            col={e.col}\r\n                                            dir={e.arrowdir}\r\n                                            enter={entering}\r\n                                        ></Entrance>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"datacontainer\">\r\n                        <div className=\"datas\">\r\n                            <Data type={\"cars\"} data={cars.length}></Data>\r\n                            <Data\r\n                                type={\"handoffs\"}\r\n                                data={plotdata.handoffs}\r\n                            ></Data>\r\n                            <Data\r\n                                type={\"power\"}\r\n                                data={plotdata.averagepower}\r\n                            ></Data>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"footer\"></div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\nimport './App.css';\nimport Handoff from './Handoff'\n\nfunction App() {\n    return (\n        <Handoff />\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}