(this.webpackJsonpnewhandoff=this.webpackJsonpnewhandoff||[]).push([[0],{20:function(e,t,a){e.exports=a(37)},25:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){},30:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(11),c=a.n(o),i=(a(25),a(26),a(12)),s=a(3),l=a(4),d=a(6),m=a(5),p=a(7),h=(a(27),function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.bs>=0?"bs"+this.props.bs:"r"+this.props.row+"c"+this.props.col,t=this.props.visiting?"visiting node-visited":this.props.bs>=0?"bs":this.props.path?"path":"",a=this.props.visiting?"".concat(Math.sign(this.props.power)*Math.round(Math.abs(this.props.power))):"";return n.a.createElement("div",{className:"node ".concat(t),id:e},a)}}]),t}(r.Component)),u=a(9),f=a.n(u),w=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={row:a.props.row,col:a.props.col,basestaion:a.props.bs},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.row,t=this.state.col,a=this.state.basestaion,r=document.getElementById("r".concat(e,"c").concat(t)),n=document.getElementById("bs".concat(a)),o={};null!==r&&null!==n&&(o=v(n,r,"#ffc952",5),this.setState({linestyle:o}))}},{key:"render",value:function(){var e=this.props.row,t=this.props.col,a=this.props.bs,r=this.props.handoff,o=this.state.linestyle,c={},i=document.getElementById("r".concat(e,"c").concat(t)),s=document.getElementById("bs".concat(a));return null!==i&&null!==s&&(o=v(s,i,"#ffc952",5)),c=r?function(e){var t=g(e),a=t.left-.7*t.width;return{padding:"0px",margin:"0px",width:"80px",height:"80px",position:"absolute",top:t.top-90+"px",left:a+"px"}}(i):{display:"none"},n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:c,className:"handoff"}),n.a.createElement("div",{style:o}))}}]),t}(r.Component);function v(e,t,a,r){var n=g(e),o=g(t),c=n.left+.5*n.width,i=n.top+.5*n.height,s=o.left+.5*o.width,l=o.top+.5*o.height,d=Math.sqrt((s-c)*(s-c)+(l-i)*(l-i));return{padding:"0px",margin:"0px",height:r+"px",backgroundColor:a,lineHeight:"1px",position:"absolute",left:(c+s)/2-d/2+"px",top:(i+l)/2-r/2+"px",width:d+"px",transform:"rotate("+Math.atan2(i-l,c-s)*(180/Math.PI)+"deg)",opacity:.5}}function g(e){var t=e.getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:t.width||e.offsetWidth,height:t.height||e.offsetHeight}}a(30);var E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={row:a.props.row,col:a.props.col,dir:a.props.dir,enter:a.props.enter},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.row,t=this.state.col,a=this.state.dir,r=(this.state.enter,document.getElementById("r".concat(e,"c").concat(t)));if(null!==r){var n=function(e,t,a){var r=function(e){var t=e.getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:t.width||e.offsetWidth,height:t.height||e.offsetHeight}}(e),n=0,o=0,c="";1===t?(n=r.left-85,o=r.top-25,c="arrow".concat(t)):0===t?(n=r.left-25,o=r.top+35,c="arrow".concat(t)):2===t?(n=r.left-25,o=r.top-85,c="arrow".concat(t)):3===t&&(n=r.left+35,o=r.top-25,c="arrow".concat(t));return{style:{padding:"0px",margin:"0px",width:"80px",height:"80px",position:"absolute",top:o+"px",left:n+"px"},arrowimg:c}}(r,a);this.setState({style:n.style,arrowimg:n.arrowimg})}}},{key:"render",value:function(){var e=this.state.style,t=this.state.arrowimg,a=0===this.state.enter?"entering":1===this.state.enter?"leaving":"";return n.a.createElement("div",{style:e,className:"".concat(t," ").concat(a)})}}]),t}(r.Component);var b=a(15),y=a.n(b),N=a(16),O=a.n(N),k=(a(33),y()(O.a)),M=[],j=[],x=[],C=[],B=[],I=[],P=0,H=0,S=0,T=0,L=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.type,t=this.props.data,a="",r="",o=[],c=[];return"cars"===e?(a="Cars",M.push(t),C.push(P),P++,o=C,c=M,T=4):"handoffs"===e?(a="Handoffs",j.push(t),B.push(H),H++,o=B,c=j,T=0):"power"===e&&(a="Average Power",r="dBm",t=t.toFixed(2),x.push(t),I.push(S),S++,o=I,c=x,T=-103),n.a.createElement("div",{className:"datacontainer"},n.a.createElement("div",{className:"data"},n.a.createElement("div",{className:"word"},a),n.a.createElement("div",{className:e},"".concat(t," ").concat(r))),n.a.createElement(k,{data:[{x:o,y:c,type:"line",marker:{color:"#be3335"}},{type:"line",x:[0],y:[T]}],layout:{width:350,height:150,title:a,showlegend:!1,margin:{t:30,r:20,l:45,b:20}}}))}}]),t}(r.Component),W=a(8),z=(a(34),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"icons-description"},n.a.createElement("div",{className:"icon-row"},n.a.createElement("div",{className:"ms first"},"-103"),n.a.createElement("div",{className:"legend second"},"MS, Car (Power)")),n.a.createElement("div",{className:"icon-row"},n.a.createElement("div",{className:"bs first"}),n.a.createElement("div",{className:"legend second"},"BS, Base station")),n.a.createElement("div",{className:"icon-row"},n.a.createElement("div",{className:"transmission first"}),n.a.createElement("div",{className:"legend second"},"Servicing")),n.a.createElement("div",{className:"icon-row"},n.a.createElement("div",{className:"path first"}),n.a.createElement("div",{className:"legend second"},"MS Path")),n.a.createElement("div",{className:"icon-row"},n.a.createElement("div",{className:"block first"}),n.a.createElement("div",{className:"legend second"},"Block")),n.a.createElement("div",{className:"icon-row"},n.a.createElement("div",{className:"handoff first"}),n.a.createElement("div",{className:"legend second"},"Handoff Made")),n.a.createElement("div",{className:"icon-row"},n.a.createElement("div",{className:"entrancee first"}),n.a.createElement("div",null,n.a.createElement("div",{className:"legend second"},"MS Entrance"))),n.a.createElement("div",{className:"third"},"(Cars can only enter or leave here)"),n.a.createElement("div",{className:"icon-row"},n.a.createElement("div",{className:"enteringg first"}),n.a.createElement("div",{className:"legend second"},"Car Entering")),n.a.createElement("div",{className:"icon-row"},n.a.createElement("div",{className:"leavingg first"}),n.a.createElement("div",{className:"legend second"},"Car leaving")))}}]),t}(r.Component)),D=(a(35),0),F=0,J=-103,R=0,V=[{row:5,col:7},{row:5,col:21},{row:15,col:7},{row:15,col:21}],X=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(d.a)(this,Object(m.a)(t).call(this))).state={grid:[],cars:[{row:5,col:0,dir:1,bs:0,power:G(5,0,V[0]),handoff:!1},{row:5,col:28,dir:3,bs:1,power:G(5,28,V[1]),handoff:!1},{row:15,col:0,dir:1,bs:2,power:G(15,0,V[2]),handoff:!1},{row:15,col:28,dir:3,bs:3,power:G(15,28,V[3]),handoff:!1}],entrances:[{row:0,col:7,arrowdir:2,carenter:-1},{row:0,col:21,arrowdir:2,carenter:-1},{row:20,col:7,arrowdir:0,carenter:-1},{row:20,col:21,arrowdir:0,carenter:-1},{row:5,col:28,arrowdir:3,carenter:-1},{row:15,col:28,arrowdir:3,carenter:-1},{row:5,col:0,arrowdir:1,carenter:-1},{row:15,col:0,arrowdir:1,carenter:-1}]},e}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(e){for(var t=[],a=0;a<21;a++){for(var r=[],n=0;n<29;n++){for(var o=!1,c=0,i=!1,s=0;s<e.length;s++)if(a===e[s].row&&n===e[s].col){o=!0,c=e[s].power,i=e[s].handoff;break}var l=-1,d=a%5===0||n%7===0;5===a&&7===n?l=0:5===a&&21===n?l=1:15===a&&7===n?l=2:15===a&&21===n&&(l=3),r.push({row:a,col:n,visiting:o,path:d,bs:l,power:c,handoff:i})}t.push(r)}return t}(this.state.cars);this.setState({grid:t});var a=this.state.grid;return n.a.createElement("div",{className:"containerr"},n.a.createElement("div",{className:"board"},a.map((function(t){return n.a.createElement("div",{className:"containerr"},n.a.createElement("div",{className:"maincontent"},n.a.createElement("div",{className:"description"},n.a.createElement("div",{className:"button",onClick:function(){return e.handleClick()}},n.a.createElement("div",null,"Visualize"))),n.a.createElement("div",{className:"simulation"},n.a.createElement("div",{className:"board"},a.map((function(e){return n.a.createElement("div",{key:f()(),className:"roww"},e.map((function(e){return n.a.createElement(h,{key:f()(),row:e.row,col:e.col,visiting:e.visiting,path:e.path,bs:e.bs,power:e.power,handoff:e.handoff})})))})))),n.a.createElement("div",{className:"datas"},n.a.createElement(L,{type:"cars",data:e.state.cars.length}),n.a.createElement(L,{type:"handoffs",data:F}),n.a.createElement(L,{type:"power",data:J}))))}))))}},{key:"handledrop",value:function(e){0===e?(document.getElementById("dropdown-basic").innerHTML="Best Policy",D=0):1===e?(document.getElementById("dropdown-basic").innerHTML="Threshsold Policy",D=1):2===e?(document.getElementById("dropdown-basic").innerHTML="Entrophy Policy",D=2):3===e&&(document.getElementById("dropdown-basic").innerHTML="Minimum Policy",D=3)}},{key:"handleClick",value:function(){var e=this;1===R?(R=0,clearInterval(window.intervalid)):(R=1,window.intervalid=setInterval((function(){console.log(R);var t=function(e,t){for(var a=Object(i.a)(e),r=0;r<8;r++){Math.random()<.0163911909&&(0===r?t.push({row:0,col:7,dir:2,bs:0,power:G(0,7,V[0])}):1===r?t.push({row:0,col:21,dir:2,bs:1,power:G(0,21,V[1])}):2===r?t.push({row:20,col:7,dir:0,bs:2,power:G(20,7,V[2])}):3===r?t.push({row:20,col:21,dir:0,bs:3,power:G(20,21,V[3])}):4===r?t.push({row:5,col:28,dir:3,bs:1,power:G(5,28,V[1])}):5===r?t.push({row:15,col:28,dir:3,bs:3,power:G(15,28,V[3])}):6===r?t.push({row:5,col:0,dir:2,bs:0,power:G(5,0,V[0])}):7===r&&t.push({row:15,col:0,dir:2,bs:2,power:G(15,0,V[2])}),a[r].carenter=0)}return a}(e.state.entrances,e.state.cars),a=function(e,t){for(var a=Object(i.a)(t),r=[],n=0,o=0,c=0;c<a.length;c++){var s=a[c];s.row<0||s.row>20||s.col<0||s.col>28?r.push(s):(s.row%5===0&&s.col%7===0&&Y(s),q(s),A(s),n++,o+=s.power)}return J=o/n,function(e,t,a){for(var r=0;r<t.length;r++){var n=t[r].row,o=t[r].col;console.log(n,o),-1===n&&7===o?a[0].carenter=1:-1===n&&21===o?a[1].carenter=1:21===n&&7===o?a[2].carenter=1:21===n&&21===o?a[3].carenter=1:5===n&&29===o?a[4].carenter=1:15===n&&29===o?a[5].carenter=1:5===n&&-1===o?a[6].carenter=1:15===n&&-1===o&&(a[7].carenter=1),e.splice(e.indexOf(t[r]),1)}}(a,r,e),a}(e.state.entrances,e.state.cars),r=function(e){for(var t=[],a=0;a<21;a++){for(var r=[],n=0;n<29;n++){for(var o=!1,c=0,i=!1,s=0;s<e.length;s++)if(a===e[s].row&&n===e[s].col){o=!0,c=e[s].power,i=e[s].handoff;break}var l=-1,d=a%5===0||n%7===0;5===a&&7===n?l=0:5===a&&21===n?l=1:15===a&&7===n?l=2:15===a&&21===n&&(l=3),r.push({row:a,col:n,visiting:o,path:d,bs:l,power:c,handoff:i})}t.push(r)}return t}(e.state.cars);e.setState({grid:r,cars:a,entrances:t})}),600))}},{key:"render",value:function(){var e=this,t=this.state.grid,a=this.state.cars,r=this.state.entrances;return n.a.createElement("div",{className:"containerr"},n.a.createElement("div",{className:"maincontent"},n.a.createElement("div",{className:"description"},n.a.createElement("div",{className:"goalcontainer"},n.a.createElement("div",{className:"intro goal"},"Goal"),n.a.createElement("div",{className:"intro intropower"},"Least Handoffs"),n.a.createElement("div",{className:"intro introhandoffs"},"Highest Power")),n.a.createElement(W.a,null,n.a.createElement(W.a.Toggle,{size:"lg",variant:"success",id:"dropdown-basic"},"Best Policy"),n.a.createElement(W.a.Menu,null,n.a.createElement(W.a.Item,{onClick:function(){return e.handledrop(0)}},"Best Policy"),n.a.createElement(W.a.Item,{onClick:function(){return e.handledrop(1)}},"Threshold Policy"),n.a.createElement(W.a.Item,{onClick:function(){return e.handledrop(2)}},"Entrophy Policy"),n.a.createElement(W.a.Item,{onClick:function(){return e.handledrop(3)}},"Minimum Policy"))),n.a.createElement("div",{className:"button",onClick:function(){return e.handleClick()}},n.a.createElement("div",null,"Visualize")),n.a.createElement(z,null)),n.a.createElement("div",{className:"simulation"},n.a.createElement("div",{className:"board"},t.map((function(e){return n.a.createElement("div",{key:f()(),className:"roww"},e.map((function(e){return n.a.createElement(h,{key:f()(),row:e.row,col:e.col,visiting:e.visiting,path:e.path,bs:e.bs,power:e.power,handoff:e.handoff})})))}))),n.a.createElement("div",null,a.map((function(e){return n.a.createElement(w,{key:f()(),row:e.row,col:e.col,bs:e.bs,handoff:e.handoff})}))),n.a.createElement("div",null,r.map((function(e){var t=-1;return 0===e.carenter?t=0:1===e.carenter&&(t=1),e.carenter=-1,n.a.createElement(E,{key:f()(),row:e.row,col:e.col,dir:e.arrowdir,enter:t})})))),n.a.createElement("div",{className:"datas"},n.a.createElement(L,{type:"cars",data:a.length}),n.a.createElement(L,{type:"handoffs",data:F}),n.a.createElement(L,{type:"power",data:J}))))}}]),t}(r.Component);function Y(e){var t,a,r=e.dir,n=(t=0,a=5,t=Math.ceil(t),a=Math.floor(a),Math.floor(Math.random()*(a-t+1))+t);if(e.row%20===0&&e.col%28===0)0===e.row&&0===e.col?0===r?r=1:3===r&&(r=2):20===e.row&&0===e.col?3===r?r=0:2===r&&(r=1):0===e.row&&28===e.col?1===r?r=2:0===r&&(r=3):20===e.row&&28===e.col&&(2===r?r=3:1===r&&(r=0));else if(0===e.row&&14===e.col||10===e.row&&0===e.col||10===e.row&&28===e.col||20===e.row&&14===e.col){var o=function(e,t,a){var r=[0,1,2,3],n=(e+2)%4;r.splice(r.indexOf(n),1),0===t&&14===a?r.splice(r.indexOf(0),1):10===t&&0===a?r.splice(r.indexOf(3),1):10===t&&28===a?r.splice(r.indexOf(1),1):20===t&&14===a&&r.splice(r.indexOf(2),1);return r}(e.dir,e.row,e.col);r=n<=2?o[0]:o[1]}else 0===n?r--:1!==n&&2!==n||r++;-1===r&&(r=3),r%=4,e.dir=r}function q(e){2===e.dir?e.row++:0===e.dir?e.row--:1===e.dir?e.col++:3===e.dir&&e.col--}function A(e){var t=!1,a=G(e.row,e.col,V[e.bs]),r=[];r.push(G(e.row,e.col,V[0])),r.push(G(e.row,e.col,V[1])),r.push(G(e.row,e.col,V[2])),r.push(G(e.row,e.col,V[3]));var n=Math.max.apply(Math,r),o=r.indexOf(n);0===D?n>a&&(e.bs=o,e.power=n,t=!0,console.log("best")):1===D?n>a&&a<-108&&(console.log("new",n),console.log("old",a),e.bs=o,e.power=n,t=!0,console.log("threshold")):2===D?n>a+5&&(e.bs=o,e.power=n,t=!0,console.log("entrophy")):3===D&&a<-112&&(e.bs=o,e.power=n,t=!0,console.log("minimum")),t?(F++,e.handoff=!0):(e.power=a,e.handoff=!1)}function G(e,t,a){var r,n=20*Math.abs(t-a.col),o=20*Math.abs(e-a.row),c=Math.pow(Math.pow(n,2)+Math.pow(o,2),.5);return 0===c?-50:-60-20*(r=c,Math.log(r)/Math.log(10))}var $=function(){return n.a.createElement(X,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.ff12e05a.chunk.js.map