(this.webpackJsonpnewhandoff=this.webpackJsonpnewhandoff||[]).push([[0],{45:function(e,t,a){e.exports=a(64)},50:function(e,t,a){},51:function(e,t,a){},56:function(e,t,a){},58:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(19),c=a.n(o),i=(a(50),a(6)),s=a(7),l=a(9),d=a(8),m=a(10),p=a(67),h=a(68),u=(a(51),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(p.a,{bg:"dark",expand:"md",variant:"dark",fixed:"top",className:"navbrand"},n.a.createElement(p.a.Brand,{href:"#home"},n.a.createElement("img",{alt:"",src:"./bs.png",width:"35",height:"35",className:"d-inline-block align-top",id:"logo"})," ","Wireless Network Handoff Visualizer"),n.a.createElement(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),n.a.createElement(p.a.Collapse,{id:"basic-navbar-nav"},n.a.createElement(h.a,{className:"ml-auto"},n.a.createElement(h.a.Link,{href:"https://github.com/chonyy/handoff-visualizer/blob/master/README.md",className:"navbarlinks"},"Docs"),n.a.createElement(h.a.Link,{href:"https://github.com/chonyy/handoff-visualizer",className:"navbarlinks"},"Source"),n.a.createElement(h.a.Link,{href:"https://github.com/chonyy",className:"navbarlinks"},"Creator"),n.a.createElement(h.a.Link,{href:"https://github.com/chonyy/handoff-simulator",className:"navbarlinks"},"Simulation")))))}}]),t}(r.Component)),f=(a(56),a(18)),w=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handledrop",value:function(e){var t=this.props.policyobj;0===e?(document.getElementById("dropdown-basic").innerHTML="Best Policy",t.policy=0):1===e?(document.getElementById("dropdown-basic").innerHTML="Threshsold Policy",t.policy=1):2===e?(document.getElementById("dropdown-basic").innerHTML="Entrophy Policy",t.policy=2):3===e&&(document.getElementById("dropdown-basic").innerHTML="Minimum Policy",t.policy=3)}},{key:"render",value:function(){var e=this;return n.a.createElement(f.a,null,n.a.createElement(f.a.Toggle,{size:"lg",variant:"success",id:"dropdown-basic"},"Best Policy"),n.a.createElement(f.a.Menu,null,n.a.createElement(f.a.Item,{onClick:function(){return e.handledrop(0)}},"Best Policy"),n.a.createElement(f.a.Item,{onClick:function(){return e.handledrop(1)}},"Threshold Policy"),n.a.createElement(f.a.Item,{onClick:function(){return e.handledrop(2)}},"Entrophy Policy"),n.a.createElement(f.a.Item,{onClick:function(){return e.handledrop(3)}},"Minimum Policy")))}}]),t}(r.Component),v=(a(58),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"icons-description"},n.a.createElement("div",{className:"icon-row"},n.a.createElement("div",{className:"ms first"},"-103"),n.a.createElement("div",{className:"legend second"},"MS, Car (Power)")),n.a.createElement("div",{className:"icon-row"},n.a.createElement("div",{className:"bs first"}),n.a.createElement("div",{className:"legend second"},"BS, Base station")),n.a.createElement("div",{className:"icon-row"},n.a.createElement("div",{className:"transmission first"}),n.a.createElement("div",{className:"legend second"},"Servicing")),n.a.createElement("div",{className:"icon-row"},n.a.createElement("div",{className:"path first"}),n.a.createElement("div",{className:"legend second"},"MS Path")),n.a.createElement("div",{className:"icon-row"},n.a.createElement("div",{className:"block first"}),n.a.createElement("div",{className:"legend second"},"Block")),n.a.createElement("div",{className:"icon-row"},n.a.createElement("div",{className:"handoff first"}),n.a.createElement("div",{className:"legend second"},"Handoff Made")),n.a.createElement("div",{className:"icon-row"},n.a.createElement("div",{className:"entrancee first"}),n.a.createElement("div",null,n.a.createElement("div",{className:"legend second"},"MS Entrance"))),n.a.createElement("div",{className:"third"},"(Cars can only enter or leave here)"),n.a.createElement("div",{className:"icon-row"},n.a.createElement("div",{className:"enteringg first"}),n.a.createElement("div",{className:"legend second"},"Car Entering")),n.a.createElement("div",{className:"icon-row"},n.a.createElement("div",{className:"leavingg first"}),n.a.createElement("div",{className:"legend second"},"Car leaving")))}}]),t}(r.Component)),b=a(27),E=a.n(b),g=(a(61),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.bs>=0?"bs"+this.props.bs:"r"+this.props.row+"c"+this.props.col,t=this.props.visiting?"visiting node-visited":this.props.bs>=0?"bs":this.props.path?"path":"",a=this.props.visiting?"".concat(Math.sign(this.props.power)*Math.round(Math.abs(this.props.power))):"";return n.a.createElement("div",{className:"node ".concat(t),id:e},a)}}]),t}(r.Component)),y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={row:a.props.row,col:a.props.col,basestaion:a.props.bs},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.row,t=this.state.col,a=this.state.basestaion,r=document.getElementById("r".concat(e,"c").concat(t)),n=document.getElementById("bs".concat(a)),o={};null!==r&&null!==n&&(o=N(n,r,"#ffc952",5),this.setState({linestyle:o}))}},{key:"render",value:function(){var e=this.props.row,t=this.props.col,a=this.props.bs,r=this.props.handoff,o=this.state.linestyle,c={},i=document.getElementById("r".concat(e,"c").concat(t)),s=document.getElementById("bs".concat(a));return null!==i&&null!==s&&(o=N(s,i,"#ffc952",5)),c=r&&null!==i?function(e){var t=O(e),a=t.left-.7*t.width;return{padding:"0px",margin:"0px",width:"80px",height:"80px",position:"absolute",top:t.top-90+"px",left:a+"px"}}(i):{display:"none"},n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:c,className:"handoff"}),n.a.createElement("div",{style:o}))}}]),t}(r.Component);function N(e,t,a,r){var n=O(e),o=O(t),c=n.left+.5*n.width,i=n.top+.5*n.height,s=o.left+.5*o.width,l=o.top+.5*o.height,d=Math.sqrt((s-c)*(s-c)+(l-i)*(l-i));return{padding:"0px",margin:"0px",height:r+"px",backgroundColor:a,lineHeight:"1px",position:"absolute",left:(c+s)/2-d/2+"px",top:(i+l)/2-r/2+"px",width:d+"px",transform:"rotate("+Math.atan2(i-l,c-s)*(180/Math.PI)+"deg)",opacity:.5}}function O(e){var t=e.getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:t.width||e.offsetWidth,height:t.height||e.offsetHeight}}a(62);var j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={row:a.props.row,col:a.props.col,dir:a.props.dir,enter:a.props.enter},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.row,t=this.state.col,a=this.state.dir,r=(this.state.enter,document.getElementById("r".concat(e,"c").concat(t)));if(null!==r){var n=function(e,t,a){var r=function(e){var t=e.getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:t.width||e.offsetWidth,height:t.height||e.offsetHeight}}(e),n=0,o=0,c="";1===t?(n=r.left-85,o=r.top-25,c="arrow".concat(t)):0===t?(n=r.left-25,o=r.top+35,c="arrow".concat(t)):2===t?(n=r.left-25,o=r.top-85,c="arrow".concat(t)):3===t&&(n=r.left+35,o=r.top-25,c="arrow".concat(t));return{style:{padding:"0px",margin:"0px",position:"absolute",top:o+"px",left:n+"px"},arrowimg:c}}(r,a);this.setState({style:n.style,arrowimg:n.arrowimg})}}},{key:"render",value:function(){var e=this.state.style,t=this.state.arrowimg,a=0===this.state.enter?"entering":1===this.state.enter?"leaving":"";return n.a.createElement("div",{style:e,className:"".concat(t," ").concat(a," arrowsize")})}}]),t}(r.Component);var k=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.grid,t=this.props.cars,a=this.props.entrances;return n.a.createElement("div",{className:"simcontainer"},n.a.createElement("div",{className:"simulation"},n.a.createElement("div",{className:"board"},e.map((function(e){return n.a.createElement("div",{key:E()(),className:"roww"},e.map((function(e){return n.a.createElement(g,{key:E()(),row:e.row,col:e.col,visiting:e.visiting,path:e.path,bs:e.bs,power:e.power,handoff:e.handoff})})))}))),n.a.createElement("div",null,t.map((function(e){return n.a.createElement(y,{key:E()(),row:e.row,col:e.col,bs:e.bs,handoff:e.handoff})}))),n.a.createElement("div",null,a.map((function(e){var t=-1;return 0===e.carenter?t=0:1===e.carenter&&(t=1),e.carenter=-1,n.a.createElement(j,{key:E()(),row:e.row,col:e.col,dir:e.arrowdir,enter:t})})))))}}]),t}(r.Component),M=a(43),x=a.n(M),C=a(44),B=a.n(C),I=(a(63),x()(B.a)),H=[],P=[],S=[],z=[],L=[],T=[],D=0,R=0,W=0,V=0,A=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.type,t=this.props.data,a="",r="",o=[],c=[];return"cars"===e?(a="Cars",H.push(t),z.push(D),D++,o=z,c=H,V=4):"handoffs"===e?(a="Handoffs",P.push(t),L.push(R),R++,o=L,c=P,V=0):"power"===e&&(a="Average Power",r="dBm",t=t.toFixed(2),S.push(t),T.push(W),W++,o=T,c=S,V=-103),n.a.createElement("div",{className:"datacontainer"},n.a.createElement("div",{className:"data"},n.a.createElement("div",{className:"word"},a),n.a.createElement("div",{className:e},"".concat(t," ").concat(r))),n.a.createElement("div",{className:"plotlycontainer"},n.a.createElement(I,{style:{width:"100%",height:"100%"},useResizeHandler:!0,data:[{x:o,y:c,type:"line",marker:{color:"#be3335"}},{type:"line",x:[0],y:[V]}],layout:{autosize:!0,title:a,showlegend:!1,margin:{t:30,r:20,l:45,b:20},useResizeHandler:!0},config:{displayModeBar:!1}})))}}]),t}(r.Component),F=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.cars,t=this.props.handoffs,a=this.props.power;return n.a.createElement("div",{className:"datacontainer"},n.a.createElement("div",{className:"datas"},n.a.createElement(A,{type:"cars",data:e}),n.a.createElement(A,{type:"handoffs",data:t}),n.a.createElement(A,{type:"power",data:a})))}}]),t}(r.Component),G=a(32),J=[{row:5,col:7},{row:5,col:21},{row:15,col:7},{row:15,col:21}];function X(e){var t,a,r=e.dir,n=(t=0,a=5,t=Math.ceil(t),a=Math.floor(a),Math.floor(Math.random()*(a-t+1))+t);if(e.row%20===0&&e.col%28===0)0===e.row&&0===e.col?0===r?r=1:3===r&&(r=2):20===e.row&&0===e.col?3===r?r=0:2===r&&(r=1):0===e.row&&28===e.col?1===r?r=2:0===r&&(r=3):20===e.row&&28===e.col&&(2===r?r=3:1===r&&(r=0));else if(0===e.row&&14===e.col||10===e.row&&0===e.col||10===e.row&&28===e.col||20===e.row&&14===e.col){var o=function(e,t,a){var r=[0,1,2,3],n=(e+2)%4;r.splice(r.indexOf(n),1),0===t&&14===a?r.splice(r.indexOf(0),1):10===t&&0===a?r.splice(r.indexOf(3),1):10===t&&28===a?r.splice(r.indexOf(1),1):20===t&&14===a&&r.splice(r.indexOf(2),1);return r}(e.dir,e.row,e.col);r=n<=2?o[0]:o[1]}else 0===n?r--:1!==n&&2!==n||r++;-1===r&&(r=3),r%=4,e.dir=r}function Y(e){2===e.dir?e.row++:0===e.dir?e.row--:1===e.dir?e.col++:3===e.dir&&e.col--}function q(e,t,a){var r=!1,n=$(e.row,e.col,J[e.bs]),o=[];o.push($(e.row,e.col,J[0])),o.push($(e.row,e.col,J[1])),o.push($(e.row,e.col,J[2])),o.push($(e.row,e.col,J[3]));var c=Math.max.apply(Math,o),i=o.indexOf(c);0===t?c>n&&(e.bs=i,e.power=c,r=!0,console.log("best")):1===t?c>n&&n<-108&&(e.bs=i,e.power=c,r=!0,console.log("threshold")):2===t?c>n+5&&(e.bs=i,e.power=c,r=!0,console.log("entrophy")):3===t&&n<-112&&(e.bs=i,e.power=c,r=!0,console.log("minimum")),r?(a.handoffs++,e.handoff=!0):(e.power=n,e.handoff=!1)}function $(e,t,a){var r,n=20*Math.abs(t-a.col),o=20*Math.abs(e-a.row),c=Math.pow(Math.pow(n,2)+Math.pow(o,2),.5);return 0===c?-50:-60-20*(r=c,Math.log(r)/Math.log(10))}var K={policy:0},Q={handoffs:0,averagepower:-103},U=0,Z=[{row:5,col:7},{row:5,col:21},{row:15,col:7},{row:15,col:21}],_=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(d.a)(t).call(this))).state={grid:[],cars:[{row:5,col:0,dir:1,bs:0,power:$(5,0,Z[0]),handoff:!1},{row:5,col:28,dir:3,bs:1,power:$(5,28,Z[1]),handoff:!1},{row:15,col:0,dir:1,bs:2,power:$(15,0,Z[2]),handoff:!1},{row:15,col:28,dir:3,bs:3,power:$(15,28,Z[3]),handoff:!1}],entrances:[{row:0,col:7,arrowdir:2,carenter:-1},{row:0,col:21,arrowdir:2,carenter:-1},{row:20,col:7,arrowdir:0,carenter:-1},{row:20,col:21,arrowdir:0,carenter:-1},{row:5,col:28,arrowdir:3,carenter:-1},{row:15,col:28,arrowdir:3,carenter:-1},{row:5,col:0,arrowdir:1,carenter:-1},{row:15,col:0,arrowdir:1,carenter:-1}]},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(e){for(var t=[],a=0;a<21;a++){for(var r=[],n=0;n<29;n++){for(var o=!1,c=0,i=!1,s=0;s<e.length;s++)if(a===e[s].row&&n===e[s].col){o=!0,c=e[s].power,i=e[s].handoff;break}var l=-1,d=a%5===0||n%7===0;5===a&&7===n?l=0:5===a&&21===n?l=1:15===a&&7===n?l=2:15===a&&21===n&&(l=3),r.push({row:a,col:n,visiting:o,path:d,bs:l,power:c,handoff:i})}t.push(r)}return t}(this.state.cars);this.setState({grid:t});var a=this.state.grid,r=this.state.cars,o=this.state.entrances;return n.a.createElement("div",null,n.a.createElement(u,null),n.a.createElement("div",{className:"maincontent"},n.a.createElement("div",{className:"descontainer"},n.a.createElement("div",{className:"description"},n.a.createElement("div",{className:"goalcontainer"},n.a.createElement("div",{className:"intro goal"},"Goal"),n.a.createElement("div",{className:"intro intropower"},"Least Handoffs"),n.a.createElement("div",{className:"intro introhandoffs"},"Highest Power")),n.a.createElement(w,{policyobj:K}),n.a.createElement("div",{className:"button",onClick:function(){return e.handleClick()}},n.a.createElement("div",null,"Visualize")),n.a.createElement(v,null))),n.a.createElement(k,{grid:a,cars:r,entrances:o})),n.a.createElement("div",{className:"footer"}))}},{key:"handleClick",value:function(){var e=this;1===U?(U=0,clearInterval(window.intervalid)):(U=1,window.intervalid=setInterval((function(){var t=function(e,t){for(var a=Object(G.a)(e),r=0;r<8;r++){Math.random()<.0163911909&&(0===r?t.push({row:0,col:7,dir:2,bs:0,power:$(0,7,J[0])}):1===r?t.push({row:0,col:21,dir:2,bs:1,power:$(0,21,J[1])}):2===r?t.push({row:20,col:7,dir:0,bs:2,power:$(20,7,J[2])}):3===r?t.push({row:20,col:21,dir:0,bs:3,power:$(20,21,J[3])}):4===r?t.push({row:5,col:28,dir:3,bs:1,power:$(5,28,J[1])}):5===r?t.push({row:15,col:28,dir:3,bs:3,power:$(15,28,J[3])}):6===r?t.push({row:5,col:0,dir:2,bs:0,power:$(5,0,J[0])}):7===r&&t.push({row:15,col:0,dir:2,bs:2,power:$(15,0,J[2])}),a[r].carenter=0)}return a}(e.state.entrances,e.state.cars),a=function(e,t,a,r){for(var n=Object(G.a)(t),o=[],c=0,i=0,s=0;s<n.length;s++){var l=n[s];l.row<0||l.row>20||l.col<0||l.col>28?o.push(l):(l.row%5===0&&l.col%7===0&&X(l),Y(l),q(l,a,r),c++,i+=l.power)}return r.averagepower=i/c,function(e,t,a){for(var r=0;r<t.length;r++){var n=t[r].row,o=t[r].col;-1===n&&7===o?a[0].carenter=1:-1===n&&21===o?a[1].carenter=1:21===n&&7===o?a[2].carenter=1:21===n&&21===o?a[3].carenter=1:5===n&&29===o?a[4].carenter=1:15===n&&29===o?a[5].carenter=1:5===n&&-1===o?a[6].carenter=1:15===n&&-1===o&&(a[7].carenter=1),e.splice(e.indexOf(t[r]),1)}}(n,o,e),n}(e.state.entrances,e.state.cars,K.policy,Q),r=function(e){for(var t=[],a=0;a<21;a++){for(var r=[],n=0;n<29;n++){for(var o=!1,c=0,i=!1,s=0;s<e.length;s++)if(a===e[s].row&&n===e[s].col){o=!0,c=e[s].power,i=e[s].handoff;break}var l=-1,d=a%5===0||n%7===0;5===a&&7===n?l=0:5===a&&21===n?l=1:15===a&&7===n?l=2:15===a&&21===n&&(l=3),r.push({row:a,col:n,visiting:o,path:d,bs:l,power:c,handoff:i})}t.push(r)}return t}(e.state.cars);e.setState({grid:r,cars:a,entrances:t})}),600))}},{key:"render",value:function(){var e=this,t=this.state.grid,a=this.state.cars,r=this.state.entrances;return n.a.createElement("div",null,n.a.createElement(u,null),n.a.createElement("div",{className:"maincontent"},n.a.createElement("div",{className:"descontainer"},n.a.createElement("div",{className:"description"},n.a.createElement("div",{className:"goalcontainer"},n.a.createElement("div",{className:"intro goal"},"Goal"),n.a.createElement("div",{className:"intro intropower"},"Least Handoffs"),n.a.createElement("div",{className:"intro introhandoffs"},"Highest Power")),n.a.createElement(w,{policyobj:K}),n.a.createElement("div",{className:"button",onClick:function(){return e.handleClick()}},n.a.createElement("div",null,"Visualize")),n.a.createElement(v,null))),n.a.createElement(k,{grid:t,cars:a,entrances:r}),n.a.createElement(F,{cars:a.length,handoffs:Q.handoffs,power:Q.averagepower})),n.a.createElement("div",{className:"footer"}))}}]),t}(r.Component);var ee=function(){return n.a.createElement(_,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.34c87292.chunk.js.map